
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ear to the Bits</title>
  <meta name="author" content="Cassie Tarakajian">

  <!-- Causes trouble with per-article font implementations under /source/_includes/article.html
  
  <meta name="description" content="Build a Drum Machine in Your Browser Nov 30th, 2014 6:51 pm In my college career, I majored in electrical engineering, and because of this, I &hellip;">
  &#8211;>
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Ear to the Bits" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Poller+One" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Germania+One" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Fontdiner+Swanky" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Lato&subset=latin-ext" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Cardo&subset=latin-ext" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Sorts+Mill+Goudy" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=EB+Garamond" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=Della+Respira" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=UnifrakturMaguntia&subset=all" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Arimo|EB+Garamond|PT+Sans+Caption&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  

</head>
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<logo>

<img src="/logo.png" alt="Website Logo. Upload to /source/logo.png ; disable in /source/_includes/logo.html" height="32px" width="32px">
</logo>



<body >
  <header role="banner"><hgroup>
  <h1><a href="/">Ear to the Bits</a></h1>
  
    <h2>Ramblings about code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

<br>

      
        <form action="https://www.google.com/search" method="get">
          <fieldset role="search">
            <input type="hidden" name="q" value="site:http://" />
      
      
            <input class="search" type="text" name="q" results="0" placeholder="Search"/>
          </fieldset>
        </form>
  
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" style="font-family: "><a href="/blog/2014/11/30/decoding-web-audio/">Build a Drum Machine in Your Browser</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-30T18:51:53-05:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:51 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content" style="font-family: ; font-size: "><p>In my college career, I majored in electrical engineering, and because of this, I learned about signal processing and audio. Now that I&rsquo;m learning web development, I&rsquo;ve been eager to combine my skills and delve into Web Audio, an API that allows you to do audio processing magic in the browser. This API allows you to create websites like Soundcloud or even <a href="http://echonest.github.io/remix/">remix songs algorithmically</a>. I decided to create a basic drum machine, and then modify it to create a digital sequencer.</p>

<p>I first followed this <a href="http://www.sitepoint.com/html5-web-audio-api-tutorial-building-virtual-synth-pad/">Virtual Synth</a> tutorial, which was a great place to start, but there were a few things I didn&rsquo;t like about it:</p>

<ul>
<li>No ability to create a sequence. What good is a drum machine without a sequencer (<a href="https://www.youtube.com/watch?v=wXRnbS6o64U">unless you&rsquo;re Araabmuzik</a>)?</li>
<li>Either I implemented the filter wrong, which is very possible, or it doesn&rsquo;t work correctly. It doesn&rsquo;t use a logarithmic scale, however, which is definitely a big mistake.</li>
</ul>


<p>As I was trying to figure out how to sequence audio events, I came upon a article that went slightly above my head when I first read it. In <a href="http://www.html5rocks.com/en/tutorials/audio/scheduling/">&ldquo;A Tale of Two Clocks&rdquo;</a>, the author makes it clear that you must synchronize to the Web Audio API clock, and not the Javascript clock, since the latter is imprecise. Even slight audio stuttering is very noticeable. The author links to a sequencer created by Google engineers, called <a href="http://chromium.googlecode.com/svn/trunk/samples/audio/shiny-drum-machine.html">Shiny Drum Machine</a>, which I used for reference. The code itself is good but not great, and could definitely be organized better.</p>

<p>I threw a bunch of stuff together just to get a working app, but I think that my next step is definitely to pause for a moment and refactor.</p>

<p>I will write a tutorial in the future for this, but for now, since my brains hurts a lot, you can check out the current version of my <a href="http://web-audio-sequencer.herokuapp.com/">Web Audio Sequencer</a>. And, of course, check out <a href="https://github.com/catarak/web-audio-sequencer">my Github</a> if you want to look at the code (<a href="https://github.com/catarak/web-audio-sequencer/commit/3f4a2f08f7f84acfc85297a626ce9286a43034d6">latest commit as writing this post</a>).</p>

<p><img class="center" src="http://media.giphy.com/media/vFtWp05vBYnMQ/giphy.gif"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" style="font-family: "><a href="/blog/2014/11/16/lessons-learned-from-a-stupid-hackathon/">Lessons Learned From a Stupid Hackathon</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-16T22:49:15-05:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:49 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content" style="font-family: ; font-size: "><p>This past weekend I went to a hackathon, called <a href="http://www.stupidhackathon.com/">Stupid Hackathon</a>. It&rsquo;s not the first hackathon I have ever been to, but it&rsquo;s the first hackathon I&rsquo;ve been to since learning web development. I was excited about it from the moment I first heard about it since the theme was &ldquo;stupid shit nobody wants and dumb ideas.&rdquo; There is so much I love about that. All in all, it was a great day, but for me, it was a massive failure. And that&rsquo;s totally okay.</p>

<p>Learning to accept failure is hard. I think the only way to get better at it is to fail a lot. However, you can fail gracefully, and you can fail hard. You can other get depressed over it, or you can take it as a learning experience. I tried to do the latter, and so, here&rsquo;s what I learned:</p>

<ol>
<li><p>I completely overestimated my abilities. I thought I understood everything about Rails. Okay, maybe that&rsquo;s not true, but I thought I could at least get a simple app up and running. The problem was that my app was not actually simple. The data models were different from anything I had ever worked with before, and I strugged to map out all of the model, view, and controller relationships. I also got way too caught up in trying to follow Rails conventions rather than just making something and fixing it later. It&rsquo;s a hackathon, after all, and a stupid one at that.</p></li>
<li><p>I underestimated how much time each separate piece would take. There were a few moving parts, including integrating with Stripe and Amazon&rsquo;s Mechanical Turk API. While using each one of these separate isn&rsquo;t so hard, getting the whole thing to work together is. And all of these things add up.</p></li>
<li><p>I underestimated time, in general. I forgot that hackathons are full of interesting people who are very distracting because I want to talk to them. I learned the best approach is to make something relatively simple, a minimum viable product, and then go from there.</p></li>
<li><p>I&rsquo;m pretty good at debugging. Once I had gotten exceedingly frustrated with my project, I went to help out a friend with a project. She was having some issues with her Chrome Extension, and I was able to throw in a few debugger statements in the right place and figure out what was going on. I also fixed the bug! It was cool, knowing that I&rsquo;m good at breaking down a problem like that. I guess it makes sense though, since that&rsquo;s mostly what I did at my previous job.</p></li>
<li><p>I got way too excited about my project before thinking about the other people around me. I should have focused on the skillset of the people around me rather than getting excited about my dumb idea. Working with people is kind of the point of a hackathon.</p></li>
<li><p>I need to get better at being impulsive. I spend too much time marinating on thoughts and not just doing sometimes. It&rsquo;s like Drake says, YOLO.</p></li>
</ol>


<p><img class="center" src="http://media.giphy.com/media/NHCBJNduOcwrS/giphy.gif"></p>

<ol>
<li>Presentation is an important aspect of your hackathon project. It might be worth it to run across the street and buy matching bugundy turtlenecks with your project partner. It&rsquo;s definitely worth it to make a great powerpoint, with lots of gifs and jokes.</li>
</ol>


<p>The best part is that I got to be around a bunch of other awesome people making awesome things. There was a Chrome Extension that mimicked browsing the web from within the North Korean intranet. There was one that told you whether or not you were holding your phone. There was one that translated movie subtitles to emojis. Every single one was simultaneously stupid and brilliant. These are my favorite types of projects.</p>

<p>Oh, and I got a pretty cool free t-shirt of George Bush with a selfie stick.</p>

<p>I&rsquo;m still in love with my project, despite having some rough moments with it, so maybe I&rsquo;ll finish it one day. Hopefully. And at the next hackathon I go to, I&rsquo;m going to kill it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" style="font-family: "><a href="/blog/2014/11/06/use-git-better/">Use Git Better (and Pay Attention in Lecture Better)</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-11-06T20:16:14-05:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>8:16 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content" style="font-family: ; font-size: "><p>When I first learned git, I thought I understood it all. I had a grasp of the process of cloning a repository, making your own changes, and then making a pull request. I had made sense of it by making analogies to the old days when I worked in subversion. But then, I started to think about how to use git in production. And the question dawned on me: how do I synchronize with the master branch of the repository that I forked <em>from</em>? I understood the workflow of having a lot of local repositories and one remote, but when in came to multiple remote repositories, I was lost.</p>

<p>As it turns out, it&rsquo;s easy to set up. First, make sure you&rsquo;ve forked a repository, and have cloned your version locally.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git clone git@github.com:catarak/ruby-lectures-ruby-006.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>ruby-lectures-ruby-006
</span></code></pre></td></tr></table></div></figure>


<p>Then, if you&rsquo;re in the local directory of your cloned repository,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>13:11:09<span class="o">]</span> <span class="o">(</span>master<span class="o">)</span> ruby-lectures-ruby-006
</span><span class='line'><span class="nv">$ </span>
</span></code></pre></td></tr></table></div></figure>


<p>You can see your configured remote repositories by running,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git remote -v
</span><span class='line'>origin  git@github.com:catarak/ruby-lectures-ruby-006.git <span class="o">(</span>fetch<span class="o">)</span>
</span><span class='line'>origin  git@github.com:catarak/ruby-lectures-ruby-006.git <span class="o">(</span>push<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then add the remote repository that you forked from as &ldquo;upstream,&rdquo; like so,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git remote add upstream git@github.com:flatiron-school-ironboard/ruby-lectures-ruby-006.git
</span></code></pre></td></tr></table></div></figure>


<p>Then, if you run git remote -v again,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git remote -v
</span><span class='line'>origin  git@github.com:catarak/ruby-lectures-ruby-006.git <span class="o">(</span>fetch<span class="o">)</span>
</span><span class='line'>origin  git@github.com:catarak/ruby-lectures-ruby-006.git <span class="o">(</span>push<span class="o">)</span>
</span><span class='line'>upstream  git@github.com:flatiron-school-ironboard/ruby-lectures-ruby-006.git <span class="o">(</span>fetch<span class="o">)</span>
</span><span class='line'>upstream  git@github.com:flatiron-school-ironboard/ruby-lectures-ruby-006.git <span class="o">(</span>push<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>You will see that you have added a new remote.</p>

<p>Now that we&rsquo;ve set that up, you can now easily synchronize your fork. First, fetch the remote repository,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git fetch upstream
</span><span class='line'>remote: Counting objects: 22, <span class="k">done</span>.
</span><span class='line'>remote: Compressing objects: 100% <span class="o">(</span>9/9<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>remote: Total <span class="m">22</span> <span class="o">(</span>delta 16<span class="o">)</span>, reused <span class="m">19</span> <span class="o">(</span>delta 13<span class="o">)</span>
</span><span class='line'>Unpacking objects: 100% <span class="o">(</span>22/22<span class="o">)</span>, <span class="k">done</span>.
</span><span class='line'>From github.com:flatiron-school-ironboard/ruby-lectures-ruby-006
</span><span class='line'>   7bfa768..68d09cc  master     -&gt; upstream/master
</span></code></pre></td></tr></table></div></figure>


<p>Then, make sure you&rsquo;re on the master branch,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git checkout master
</span></code></pre></td></tr></table></div></figure>


<p>And then merge in the changes. You may have some merge conflicts (if, say, you&rsquo;ve been taking some lecture notes),</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git merge upstream/master
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/db/schema.rb
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/db/schema.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/config/routes.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/config/initializers/omniauth.rb
</span><span class='line'>CONFLICT <span class="o">(</span>add/add<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/config/initializers/omniauth.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/app/views/lists/index.html.erb
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/app/views/lists/index.html.erb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/app/models/user.rb
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/app/models/user.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/app/controllers/sessions_controller.rb
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/app/controllers/sessions_controller.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/app/controllers/application_controller.rb
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/Gemfile.lock
</span><span class='line'>CONFLICT <span class="o">(</span>content<span class="o">)</span>: Merge conflict in rails-lecture-7/todoapp/Gemfile.lock
</span><span class='line'>Auto-merging rails-lecture-7/todoapp/Gemfile
</span><span class='line'>Automatic merge failed<span class="p">;</span> fix conflicts and <span class="k">then</span> commit the result.
</span></code></pre></td></tr></table></div></figure>


<p>If there are no conflicts, the changes will be commited automatically. If there are merge conflicts, add your changes and commit then:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>git add .
</span><span class='line'><span class="nv">$ </span>git commit -am <span class="s2">&quot;fixin merge conflicts&quot;</span>
</span><span class='line'><span class="o">[</span>master b2c9367<span class="o">]</span> fixin merge conflicts
</span></code></pre></td></tr></table></div></figure>


<p>And now, you&rsquo;re done.</p>

<p><img class="center" src="http://media.giphy.com/media/Y1N6D0KQODwzu/giphy.gif"></p>

<p>The benefit of setting this up is that you can easily merge in the latest changes from the master of the project, but also have your own version. You can also not worry about accidentally pushing to the master of the repository you forked from.</p>

<p>The benefit of this for me, currently, is that I&rsquo;m a student at The Flatiron School. Our lecture notes are a repository. By doing this, I can take better notes in lecture. I like to try to keep up, and type everything that&rsquo;s happening in lecture. If I find that I have a typo or some other issue, I&rsquo;ll forget about it and keep writing stuff along with the instructor. Then, when lecture is over, I&rsquo;ll merge in what was happening in lecture, fixing everything that wasn&rsquo;t working during lecture. I find that by doing this, I&rsquo;m more engaged in lecture and the information sticks.</p>

<p>As a side note, watch out for duplicate migrations. If you&rsquo;re following everything in class, you probably would have created the same migrations as the instructor but at a slightly different time. Just delete one of the duplicates and then commit your changes.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" style="font-family: "><a href="/blog/2014/10/26/metaprogramming/">Metaprogramming, in Brief</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-26T23:03:36-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content" style="font-family: ; font-size: "><p>Coming from a background in compiled languages, the idea of metaprogramming is fascinating to me. In the world of C, writting and running programs are distinct actions. At runtime, a program cannot be altered. However, in Ruby, the actual code can be modified while it is executing. To those who only know Ruby or similar interpreted languages, it may not seem like a big deal, but to me, it&rsquo;s the coolect thing ever. At a hackathon I went to once a guy wrote a self-modifying program in Python, and I thought it was black magic. I didn&rsquo;t realize it was just a gift that comes with the language, and you didn&rsquo;t have to do any serious hacking to dynamically alter the code.</p>

<p>Let&rsquo;s just look at eval. Maybe this isn&rsquo;t so exciting:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">eval</span><span class="p">(</span><span class="s2">&quot;2 + 2&quot;</span><span class="p">)</span> <span class="c1"># =&gt; 4</span>
</span></code></pre></td></tr></table></div></figure>


<p>But then, consider this ditty:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">puts</span> <span class="s2">&quot;Please enter a phrase: &quot;</span>
</span><span class='line'><span class="c1"># pretend you entered Hello World here</span>
</span><span class='line'><span class="n">phrase</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">strip</span>
</span><span class='line'><span class="nb">puts</span> <span class="s2">&quot;Enter the name of a string method: &quot;</span>
</span><span class='line'><span class="c1"># pretend that you entered upcase here</span>
</span><span class='line'><span class="n">method_name</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">strip</span>
</span><span class='line'><span class="n">exp</span> <span class="o">=</span> <span class="s2">&quot;&#39;</span><span class="si">#{</span><span class="n">phrase</span><span class="si">}</span><span class="s2">&#39;.</span><span class="si">#{</span><span class="n">method_name</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="nb">puts</span> <span class="nb">eval</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span> <span class="c1"># =&gt; HELLO WORLD</span>
</span><span class='line'><span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">exp</span><span class="si">}</span><span class="s2">&quot;</span> <span class="c1"># =&gt; &#39;Hello World&#39;.upcase</span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s pretty cool. You just wrote a little program on the fly. What else can you do? You can write a program that writes programs.</p>

<p><img class="center" src="http://i.imgur.com/pz0sYGz.jpg"></p>

<p>Yeah dawg. I&rsquo;m for real. This is all of the code it takes (Adapted from <a href="http://www.sapphiresteel.com/The-Book-Of-Ruby">The Book of Ruby by Huw Collingbourne</a>):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">program</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="n">input</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'><span class="k">while</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="o">!=</span> <span class="s2">&quot;q&quot;</span>
</span><span class='line'>  <span class="nb">print</span><span class="p">(</span> <span class="s2">&quot;?&gt; &quot;</span> <span class="p">)</span>
</span><span class='line'>  <span class="n">line</span> <span class="o">=</span> <span class="nb">gets</span><span class="o">.</span><span class="n">strip</span>
</span><span class='line'>  <span class="k">case</span> <span class="n">line</span>
</span><span class='line'>  <span class="k">when</span> <span class="s1">&#39;&#39;</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Evaluating...&quot;</span>
</span><span class='line'>    <span class="nb">eval</span> <span class="n">input</span>
</span><span class='line'>    <span class="n">program</span> <span class="o">+=</span> <span class="n">input</span>
</span><span class='line'>    <span class="n">input</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</span><span class='line'>  <span class="k">when</span> <span class="s1">&#39;l&#39;</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Listing the program you&#39;ve written so far...&quot;</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="n">program</span>
</span><span class='line'>  <span class="k">else</span>
</span><span class='line'>    <span class="n">input</span> <span class="o">+=</span> <span class="n">line</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you run this, you kind of have a REPL, but it&rsquo;s significantly dumber than IRB:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>?> def scramble(s)
</span><span class='line'>?> s.split("").shuffle.join("")
</span><span class='line'>?> end
</span><span class='line'>?> 
</span><span class='line'>Evaluating...
</span><span class='line'>?> puts scramble("Hello")
</span><span class='line'>?> 
</span><span class='line'>Evaluating...
</span><span class='line'>Holle</span></code></pre></td></tr></table></div></figure>


<p>Cool. So what other applications does metaprogramming have in Ruby besides writing REPL&rsquo;s? As it turns out, it&rsquo;s one of my favorite things I&rsquo;ve learned about in Ruby thus far: ActiveRecord. When you define associations between models, whether it be belongs_to or has_many or anything else, the methods that you get for free are all generated on the fly. It does this using eigen or singleton classes. This is having the ability to define methods for specific instances of a class, after the class has already been defined. For example, say you define a class like so:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Roomba</span>
</span><span class='line'>  <span class="c1"># Some other methods</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">vacuum_floor</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">floor</span><span class="o">.</span><span class="n">dirty?</span>
</span><span class='line'>      <span class="c1">#vacuum for 5 seconds</span>
</span><span class='line'>      <span class="n">vacuum</span><span class="p">(</span><span class="mi">5000</span><span class="p">)</span>
</span><span class='line'>      <span class="k">if</span> <span class="n">clogged</span>
</span><span class='line'>        <span class="k">raise</span> <span class="no">Roomba</span><span class="o">::</span><span class="no">CloggedException</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you would instantiate it as</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">fido</span> <span class="o">=</span> <span class="no">Roomba</span><span class="o">.</span><span class="n">new</span>
</span></code></pre></td></tr></table></div></figure>


<p>But say you got the newer model, which knows how to unclog itself. Then you could do something like</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nc">fido</span><span class="o">.</span><span class="nf">vacuum_floor</span>
</span><span class='line'>  <span class="c1">#vacuum for 5 seconds</span>
</span><span class='line'>  <span class="n">vacuum</span><span class="p">(</span><span class="mi">5000</span><span class="p">)</span>
</span><span class='line'>  <span class="k">if</span> <span class="n">clogged</span>
</span><span class='line'>    <span class="n">reverse_suction</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>There&rsquo;s also this other fancy syntax you can use:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="n">fido</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">vacuum_with_style</span>
</span><span class='line'>    <span class="n">vacuum</span><span class="p">(</span><span class="mi">5000</span><span class="p">)</span>
</span><span class='line'>    <span class="n">robo_boogie</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>It looks mysterious, but it&rsquo;s doing the same thing, I swear.</p>

<p>You can actually define singleton methods for classes as well, and they&rsquo;re simply called class methods. You can do this in a number of ways:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Roomba</span>
</span><span class='line'>  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">warranty</span>
</span><span class='line'>    <span class="s2">&quot;Lifetime&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is the syntax we&rsquo;re familiar with. But there&rsquo;s more:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Roomba</span>
</span><span class='line'>  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">warranty</span>
</span><span class='line'>      <span class="s2">&quot;Lifetime&quot;</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nc">Roomba</span><span class="o">.</span><span class="nf">warranty</span>
</span><span class='line'>  <span class="s2">&quot;Lifetime&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="no">Roomba</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">warranty</span>
</span><span class='line'>    <span class="s2">&quot;Lifetime&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>ActiveRecord creates new singleton methods for instances and classes when you define associations. It may seem like magic, but that magic is just metaprogramming.</p>

<p><img class="center" src="http://media.giphy.com/media/ujUdrdpX7Ok5W/giphy.gif"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title" style="font-family: "><a href="/blog/2014/10/13/ruby-regular-expressions/">6 Life-Changing Things About Ruby Regular Expressions</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-10-13T12:03:23-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>12:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content" style="font-family: ; font-size: "><h3>1. The Equals Tilde</h3>

<p>What&rsquo;s an equalstilde, you say? Who would come up with such a dumb sounding name for an operator? It actually lies at the foundation of Ruby regular expressions. It allows you to apply a regular expression to a string, and returns the index within the string where the regular expression matches. For example,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sr">/Lisa/</span> <span class="o">=~</span> <span class="s2">&quot;You&#39;re tearing me apart, Lisa!&quot;</span> <span class="c1">#=&gt; 25</span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. Matchdata</h3>

<p>Instead of using the equalstilde, you can also use a string method called match to apply a regular expression to a string. However, instead of returning an index, it returns this weird type of object called MatchData:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;You&#39;re tearing me apart, Lisa!&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/Lisa/</span><span class="p">)</span> <span class="c1">#=&gt; #&lt;MatchData &quot;Lisa&quot;&gt; </span>
</span></code></pre></td></tr></table></div></figure>


<p>Cool, so then what do you do with a MatchData object? It all makes sense when you learn about this crazy thing called&hellip;</p>

<h3>3. Capture groups</h3>

<p>Get ready to have your mind blown. In Ruby, if you use parenthesis in a regular expression, you can utilize capture groups. You can extract multiple parts from a string without using multiple regular expressions, just by putting the part of the string you want to capture. Get out, I know. It&rsquo;s awesome. For example,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">m</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;I mean, the candles, the music, the sexy dress... </span>
</span><span class='line'><span class="s2">       what&#39;s going on here?&quot;&quot;&quot;</span>
</span><span class='line'><span class="n">m</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/the (.*), the (.*), the (.*)\.\.\./</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;the candles, the music, the sexy dress...&quot; </span>
</span><span class='line'><span class="c1"># 1:&quot;candles&quot; 2:&quot;music&quot; 3:&quot;sexy dress&quot;&gt; </span>
</span></code></pre></td></tr></table></div></figure>


<p>Then, you can access each of the capture groups separately, like so:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">m</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="c1"># =&gt; &quot;the candles, the music, the sexy dress...&quot;</span>
</span><span class='line'><span class="n">m</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="c1"># =&gt; &quot;candles&quot; </span>
</span><span class='line'><span class="n">m</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="c1"># =&gt; &quot;music&quot;</span>
</span><span class='line'><span class="n">m</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="c1"># =&gt; &quot;sexy dress&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>You can even name your capture groups:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">m</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;I mean, the candles, the music, the sexy dress... </span>
</span><span class='line'><span class="s2">       what&#39;s going on here?&quot;&quot;&quot;</span>
</span><span class='line'><span class="n">m</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/the (?&lt;sexy_item_1&gt;.*), the (?&lt;sexy_item_2&gt;.*), the (?&lt;sexy_item_3&gt;.*)\.\.\./</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;the candles, the music, the sexy dress...&quot; </span>
</span><span class='line'><span class="c1"># 1:&quot;candles&quot; 2:&quot;music&quot; 3:&quot;sexy dress&quot;&gt; </span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you can access each group using hash syntax:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">m</span><span class="o">[</span><span class="n">sexy_item_1</span><span class="o">]</span> <span class="c1"># =&gt; &quot;candles&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>4. Atomic Grouping</h3>

<p>An atomic group is a type of capture group. When the regex engine exits it, all backtracking positions are discarded. Let&rsquo;s go over two cases, one that uses atomic grouping, and one that doesn&rsquo;t, and see how the regex engine would operate.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;Tommy Wiseau&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/\A(Tommy|Thomas|Tom)\z/</span><span class="p">)</span> <span class="c1"># =&gt; nil </span>
</span></code></pre></td></tr></table></div></figure>


<p>The regex engine first matches the start of the string, \A, and then matches &ldquo;Tommy&rdquo;. However, since it then would leave the capture group and try to match the \z, or the end of a string, the match would fail. The engine would then go back and try to match Thomas, and fail, try to match Tom, and ultimately stop and declare failure. But say we want to shorten this process.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;Tommy Wiseau&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/\A(?&gt;Tommy|Thomas|Tom)\z/</span><span class="p">)</span> <span class="c1"># =&gt; nil</span>
</span></code></pre></td></tr></table></div></figure>


<p>In this case, again, the \A is matched as the start of the string, and then the engine tries to match &ldquo;Tommy&rdquo;. It succeeds and moves onto matching \z, which fails. Because of the atomic grouping, the engine has thrown out all back tracing data upon reaching the \z, and therefore fails after only trying to match &ldquo;Tommy&rdquo; rather than all three options in the capture group.</p>

<h3>5. Subexpression Calls</h3>

<p>Okay. Okay. This one is probably the most radical thing about regular expressions.</p>

<p>By using the \g<name> syntax, you can match a previously named subexpression, which can be a group name or number. An example better demonstrates how you use it.</p>

<p>Say that you want to make sure all parenthesis surrounding a string are always balanced. You would use something like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;(spoons)&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/(?&lt;paren&gt;\([^()]*\g&lt;paren&gt;*\))/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;(spoons)&quot; paren:&quot;(spoons)&quot;&gt; </span>
</span><span class='line'>
</span><span class='line'><span class="s2">&quot;((spoons))&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/(?&lt;paren&gt;\([^()]*\g&lt;paren&gt;*\))/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;((spoons))&quot; paren:&quot;((spoons))&quot;&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="s2">&quot;((spoons)&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/(?&lt;paren&gt;\([^()]*\g&lt;paren&gt;*\))/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;&quot; paren:nil&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Cool. Pretty cool. Let&rsquo;s go over what the regex engine does.</p>

<ol>
<li>Enter a capture group named <em>paren</em>.</li>
<li>Match a literal <em>(</em>.</li>
<li>Match the text in between the parenthesis that is anything except for parenthesis.</li>
<li>Call the <em>paren</em> capture group again, dropping the part in the middle of the parentheses for now.</li>
<li>Enter the <em>paren</em> capture group again</li>
<li>Match a literal <em>(</em>, the second character in the group</li>
<li>Match the text in between the parenthesis that is anything except for parenthesis.</li>
<li>Try to call <em>paren</em> again, but fail since it would cause the match thus far to fail.</li>
<li>Match a literal <em>)</em> n times, where n is the depth of the recursion.</li>
</ol>


<p>Note that the * following \g<paren> is extremely important. This allows the regular expression to break out of recursion, since the subexpression can exist 0 or many times. Without it, the recursion would be never ending.</p>

<h3>6. Lookahead and lookbehind assertions</h3>

<p>What if you want to make sure certain characters exist in a regular expression, but you don&rsquo;t want them to be part of your match group? This is when you would want to use a special type of anchor, called lookahead and lookbeind assertions.</p>

<ul>
<li><em>(?=pat)</em> is a positive lookahead assertion, and ensures that the characters following your expression match &ldquo;pat&rdquo;</li>
<li><em>(?!pat)</em> is a negative lookahead assertion, and ensures that the characters following your expression do not match &ldquo;pat&rdquo;</li>
<li><em>(?&lt;=pat)</em> is a positive lookbehind assertion, and ensures that the characters preceeding your expression match &ldquo;pat&rdquo;</li>
<li><em>(?&lt;!pat)</em> is a negative lookbehind assertion, and ensures that the characters preceeding your expression do not match &ldquo;pat&rdquo;</li>
</ul>


<p>Pretty fantastic, right? For example, say you have a list of emails, and you&rsquo;re trying to find the usernames of all of the ones at a certain domain:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s2">&quot;mark@theroom.com&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/.*(?=@theroom.com)/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;mark&quot;&gt; </span>
</span><span class='line'>
</span><span class='line'><span class="s2">&quot;johnny@theroom.com&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/.*(?=theroom.com)/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #&lt;MatchData &quot;johnny&quot;&gt; </span>
</span><span class='line'>
</span><span class='line'><span class="s2">&quot;michael@troll2.com&quot;</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/.*(?=theroom.com)/</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; nil</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Other References</h2>

<p>If there&rsquo;s still more you want to know about regular expressions in Ruby, I recommend looking at the <a href="http://www.ruby-doc.org/core-2.1.3/Regexp.html">Ruby Docs</a> or visiting the webstite <a href="http://www.regular-expressions.info/">Regular-Expressions.info</a>, which contains more than you&rsquo;d ever want to know about regular expressions. In the best way possible.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Website copyright &copy; 2014 - Cassie Tarakajian |
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | Themed with <a href="https://github.com/TheChymera/Koenigspress">Knigspress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
